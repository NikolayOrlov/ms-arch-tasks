# Паттерны декомпозиции микросервисов

## "Интернет-магазин"

### Пользовательские сценарии

#### Stories:

- Как онлайн покупатель я хочу найти в каталоге подходящий товар
- Как онлайн покупатель я хочу добавить в корзину выбранные товары из числа наличествующих на складе
- Как онлайн покупатель я хочу оформить заказ
- Как онлайн покупатель я хочу посмотреть статус заказа

### Общая схема взаимодействия компонентов

![Общая схема взаимодействия компонентов](ecommerce.drawio.png)

### Описание компонентов

| **Сервис** | **Назначение** | **Отвечает за ...** |
|---|---|---|
| Product service | Управление каталогом товаров | Хранение и получение информации о товаре (название, описание, характеристики, цена) |
| Cart service | Формирование покупательской корзины | Сохранение информации о выбранных покупателем товарах для оформления заказа |
| Checkout Service | Оформление покупки | Прием заказа; получение подтверждения оплаты заказа от платежной системы |
| Order service | Выполнение заказа | Хранение и обработка информации о заказе |
| Stock service | Управление остатками товара на складе | Хранение и получение информации о наличии товаров на складе; подготовка и передача товаров заказа со склада в доставку (для упрощения сценарии от лица сотрудника склада не представлены) |
| Notification service | Уведомление покупателей о процессе выполнения заказа | Формирование и доставку сообщений покупателям в процессе обработки заказа |
| Delivery service | Доставка заказа покупателям | Формирование заказа на доставку транспортной компанией; получение информации о стоимости доставки товара транспортной компанией; получение информации о процессе доставки |
| Customer service (для упрощения не представлен) | Идентификация покупателя | Регистрация покупателей, хранение персональной информации; выдача JWT токена |

### Контракты взаимодействия компонентов

- [Product service REST API](productService.yaml)
- [Cart service REST API](cartService.yaml)
- [Checkout service REST API](checkoutService.yaml)
- [Order service REST API](orderService.yaml)
- [Stock service REST API](stockService.yaml)
- [Notification service REST API](notificationService.yaml)
- [Delivery service REST API](deliveryService.yaml)
- [Customer service REST API](customerService.yaml)
